---
import '@/styles/global.css'

import Button from '@/components/Button'
import Card from '@/components/Card.astro'
import Check from '@/components/icons/Check'
import Comment from '@/components/Comment.astro'
import Header from '@/components/Header.astro'
import Image from '@/components/Image.astro'
import Link from '@/components/Link.astro'
import Text from '@/components/Text.astro'
import Title from '@/components/Title'
import Logo from '@/components/Logo.astro'
import LogoText from '@/components/LogoText.astro'
import ContactForm from '@/components/ContactForm'

import Layout from '@/layouts/Layout.astro'

import buffetData from '@/data/buffet-data'
import comments from '@/data/comments'
import contact from '@/data/contact'
import social from '@/data/social'
import footer from '@/data/footer'
import benefits from '@/data/benefits'
---

<Layout>
  <Header
    title='Protegemos lo que más te importa.'
    img='https://images.unsplash.com/photo-1611516818236-8faa056fb659?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80'
    alt='Family reuned'
  >
    <Text theme='dark' className='mb-4'>
      Somos un buffet. Especializado en <Link href='/'>derecho de familia</Link
      >. Nuestra misión es ver a cada persona que está detras de cada proceso y
      proteger sus interes, sin dañar lo que mas te importa en el proceso, y
      basamos nuestra mentalidad en ello.
    </Text>
    <Button as='a' fit contactUs>Escríbenos</Button>
  </Header>
  <section class='wrapper divisor'>
    <div class='flex flex-col justify-center gap-y-8'>
      <div class='flex items-center flex-wrap gap-y-4 justify-between'>
        <Title as='h1' size={'lg'} theme='light' className='md:basis-5/12'
          >Protegemos lo que más te importa.</Title
        >
        <Text className='md:basis-5/12'>
          Haciendo que tu voz sea escuchada, y tus derechos sean protegidos.
        </Text>
      </div>
      <ul class='grid grid-cols-[repeat(auto-fit,minmax(282px,1fr))] gap-y-8'>
        {
          benefits.map(({ content, icon: Icon, theme, title }) => (
            <li class=''>
              <Card title={title} content={content} theme={theme}>
                <Icon size='lg' slot='icon' />
              </Card>
            </li>
          ))
        }
      </ul>
    </div>
  </section>
  <section
    class='wrapper divisor flex flex-col lg:flex-row gap-y-16 items-center justify-center lg:justify-between gap-x-12'
    id='sobre-nosotros'
  >
    <div class='relative w-fit max-w-sm'>
      <div
        class='absolute top-[127px] shadow-md shadow-slate-900/20 -left-6 z-10 p-4 rounded-full bg-slate-100'
      >
        <img src='/paper.png' alt='' class='w-8 h-8' />
      </div>
      <div
        class='absolute top-[50px] shadow-md shadow-slate-900/20 -right-4 sm:-right-[38px] z-10 p-4 rounded-xl bg-slate-100'
      >
        <img src='/laptop.png' alt='' class='w-8 h-8' />
      </div>
      <Image
        src='https://images.unsplash.com/photo-1609220136736-443140cffec6?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80'
        className=''
        alt='Father with their childs'
      />
      <div
        class='absolute -bottom-[31px] shadow-md shadow-slate-900/20 inset-x-0 mx-auto w-fit z-10 p-4 rounded-xl bg-slate-100'
      >
        <img src='/clock.png' alt='' class='w-8 h-8' />
      </div>
    </div>
    <div class='grid gap-y-6 lg:gap-y-8 max-w-prose lg:max-w-sm'>
      <Title as='h2'>¿Qué es Velandia Abogados?</Title>
      <div class='grid gap-y-4'>
        <Text>
          En Velandia Abogados somos una firma que lleva más de 18 años
          trabajando en conjunto con los mejores abogados en todo lo relacionado
          a Familia, Civil y Administrativo.
        </Text>
        <Text>
          En Velandia Abogados somos una firma que lleva más de 18 años
          trabajando en conjunto con los mejores abogados en todo lo relacionado
          a Familia, Civil y Administrativo.
        </Text>
      </div>
    </div>
  </section>
  <section class='divisor'>
    <div
      class='md:wrapper flex rounded-xl bg-slate-900 relative overflow-hidden py-12 px-8 lg:px-24'
    >
      <div class='lg:basis-5/12'>
        <Text as='span' theme='dark'>Contáctanos</Text>
        <Title as='h2' theme='dark' className='text-slate-100 mb-6'
          >¿Qué esperas para tomar el control?</Title
        >
        <Button as='a' contactUs fit>Contáctanos</Button>
      </div>
      <figure class='hidden lg:inline-block absolute right-24 bottom-0'>
        <img
          src='/chat-example.png'
          alt=''
          class='w-full max-w-[287px] object-contain'
        />
      </figure>
    </div>
  </section>
  <section class='divisor wrapper'>
    <div class='gap-y-8 grid'>
      <div class='grid gap-y-2'>
        <Title as={'h2'}>Que dicen los datos</Title>
        <Text>¿No estas muy convencido? deja que los datos hablen.</Text>
      </div>

      <ul class='grid grid-cols-[repeat(auto-fill,minmax(287px,1fr))] gap-6'>
        {
          buffetData.map(({ active, content }) => {
            const cardTheme = active ? 'dark' : 'light'
            const iconActive = active ? 'text-pink-900' : ''

            return (
              <li>
                <Card theme={cardTheme} content={content}>
                  <div
                    class={`p-3 rounded-full bg-slate-100 w-fit ${iconActive}`}
                    slot='icon'
                  >
                    <Check size='lg' />
                  </div>
                </Card>
              </li>
            )
          })
        }
      </ul>
    </div>
  </section>
  <section
    class='divisor wrapper flex items-center justify-between flex-wrap gap-8'
  >
    <div class='md:basis-5/12'>
      <Text as={'span'}>Testimonios</Text>
      <Title as={'h2'}>Que dicen los que confiaron en nosotros</Title>
    </div>
    <ul class='basis-full md:basis-6/12'>
      {
        comments.map(({ author, comment }) => (
          <li class='col-start-2 col-end-26'>
            <Comment author={author} comment={comment} />
          </li>
        ))
      }
    </ul>
  </section>
  <section class='rounded-xl bg-slate-900 mt-28 pb-12 px-4 form:p-12'>
    <div
      class='relative flex flex-col form:flex-row items-center gap-y-12 justify-end'
    >
      <article
        class='flex max-w-lg rounded-xl bg-pink-900 px-8 py-12 lg:px-12 flex-col justify-between gap-y-8 min-h-[570px] form:absolute -top-28 inset-x-0 mx-auto form:left-0 -mt-16 form:mt-0 form:mx-0'
        id='contactanos'
      >
        <div class='flex flex-col gap-y-4'>
          <Title theme={'dark'}>¿Tienes alguna duda?</Title>
          <Text theme={'dark'}
            >Escribenos un correo y detallanos tu problema, con gusto te
            atenderemos. También nos puedes encontrar en nuestros canales:</Text
          >
        </div>
        <ul>
          {
            contact.map(({ content, icon, to }) => {
              const Icon = icon
              const itemStyles = 'flex items-center gap-x-3 text-slate-100 p-4'
              return (
                <li>
                  {to ? (
                    <a
                      href={to}
                      target='_blank'
                      rel='noopener noreferrer'
                      class={`${itemStyles} rounded-xl hover:bg-pink-800 active:bg-pink-700 w-fit`}
                    >
                      <Icon />
                      <span class='font-semibold'>{content}</span>
                    </a>
                  ) : (
                    <div class={itemStyles}>
                      <Icon />
                      <span class='font-semibold'>{content}</span>
                    </div>
                  )}
                </li>
              )
            })
          }
        </ul>
        <footer class='grid justify-items-center text-slate-100'>
          <ul class='flex items-center gap-x-4 h-fit'>
            {
              social.map(({ icon, to }) => {
                const Icon = icon
                return (
                  <li>
                    <a
                      href={to}
                      target='_blank'
                      rel='noopener noreferrer'
                      class='inline-block hover:bg-pink-800 active:bg-pink-700 p-3 rounded-full'
                    >
                      <Icon />
                    </a>
                  </li>
                )
              })
            }
          </ul>
        </footer>
      </article>
      <ContactForm
        client:visible
        className='max-w-md w-full flex flex-col gap-y-8'
      />
    </div>
  </section>
  <footer class='divisor wrapper flex flex-col gap-y-12'>
    <div
      class='flex flex-col lg:flex-row items-center gap-x-6 justify-center gap-y-12 md:justify-between pb-8 border-b border-slate-300'
    >
      <div class='flex flex-col gap-y-4'>
        <a href='/' class='flex items-center'>
          <Logo />
          <LogoText />
        </a>
        <Text className='text-slate-400'>2022 Velandia Abogados, Inc.</Text>
      </div>
      <ul
        class='flex items-start lg:justify-between flex-wrap justify-center gap-12'
      >
        {
          footer.map(({ items, title, to }) => (
            <li class='flex flex-col gap-y-5'>
              <Title as={'h3'} size={'xs'} className='hover:underline'>
                <a href={to}>{title}</a>
              </Title>
              <ul class='flex flex-col gap-y-2 font-semibold'>
                {items.map(({ title, to }) => (
                  <li
                    class={`before:content-["•"] before:text-xl flex items-center gap-x-2 text-slate-400`}
                  >
                    <Text className='hover:underline text-sm text-slate-400'>
                      <a href={to}>{title}</a>
                    </Text>
                  </li>
                ))}
              </ul>
            </li>
          ))
        }
      </ul>
    </div>
    <span class='text-slate-400 text-sm text-center'
      >Lorem ipsum dolor sit amet, consectetur adipiscing elit ut aliquam, purus
      sit amet luctus venenatis, lectus magna fringilla urna, porttitor rhoncus
      dolor purus non enim praesent elementum facilisis leo, vel fringilla est.</span
    >
  </footer>
</Layout>
